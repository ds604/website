<!DOCTYPE html>
<html>
        <head>
                <meta charset="utf-8">
                <style>
                 body {
                        color: #B1B1B1;
                        background-color: #000011;
                                                /*font-family: Arial, sans-serif;*/
                        font-size: 9pt;
                        margin: 0;
                        overflow: hidden;
                }
                footer { 
                        width: 175px; 
                        height: 1.5em; 
                        position: fixed; 
                        bottom: 0;
                        right: 0;
                        padding: 3px 5px 5px 5px;
                        text-align: left;
                        z-index: 200;
                }
                </style>
        </head>
        <body>

                <canvas id="canvas"></canvas>
                <footer><img src="http://davidsarma.org/images/DavidSarmaDotOrg_h12.png"></footer>
                <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
      <script>
                function linspace(d1,d2,n) {         
                              j=0;
                              var L = new Array();
                              
                              while (j<=(n-1)) {
                              
                                              var tmp1 = j*(d2-d1)/(Math.floor(n)-1);
                                              var tmp2 = Math.ceil((d1+tmp1)*10000)/10000;
                                              L.push(tmp2);
                                              j=j+1;
                              }
                              return L;
               }
                  
        </script>
        <script>
                  var canvas = document.getElementById('canvas'),
                  ctx = canvas.getContext('2d');
                        
                  canvas.width = window.innerWidth;
                  canvas.height = window.innerHeight;
			
			
					var image = new Image();
					image.src = "https://dl.dropboxusercontent.com/u/7632896/ShlomitRiger.jpg";
					var inMemCanvas,
						inMemCtx;
			
				//load image into buffer
				image.onload = function(e){
					inMemCanvas = document.createElement('canvas');
					inMemCanvas.width = window.innerWidth;
					inMemCanvas.height = window.innerHeight;
					inMemCtx = inMemCanvas.getContext('2d');
					
					inMemCtx.translate((inMemCanvas.width - inMemCanvas.width)/2, (inMemCanvas.height - inMemCanvas.height)/2);
					inMemCtx.drawImage(image, 0, 0);
					
					//ctx.drawImage(inMemCanvas,(inMemCanvas.width-image.width)/2,(inMemCanvas.height-image.height)/2);
				}


                                                            
                //drawing setup
                ctx.strokeStyle = 'rgba(255,255,255,0.3)';
                ctx.lineWidth = 1;
                                        
                //axis lines
                ctx.moveTo(0, canvas.height/2+0.5);
                ctx.lineTo(canvas.width, canvas.height/2+0.5);
                ctx.stroke();
                  
                  /////////////////////
                  //sine wave circles
                  var SINE_SCALE = 100;
                                
                        //generate a range array [1,2,3,4,....,canvas.width]
                        var x_pos = Array.apply(null, Array(canvas.width)).map(function (_, i) {return i;});
                        
                                //x value labels
                                ctx.font = '8pt Arial';
                                ctx.fillStyle = 'rgba(255,255,255,0.3)';
                                ctx.lineWidth = 0.5;
                                x_pos.map(function(e){
                                        if (e % 50 == 0){
                                                //add x labels
                                                ctx.fillText(e,e-9,canvas.height/2 + 20);
                                                
                                                //add ticks
                                                ctx.beginPath();
                                                ctx.moveTo(e + 0.5, canvas.height/2 + 5);
                                                ctx.lineTo(e + 0.5, canvas.height/2 - 5);
                                                ctx.stroke();
                                        }
                                });
                  
                        //setup to draw sine curve
                        ctx.strokeStyle = 'rgba(255,255,255,0.3)';
                            ctx.lineWidth = 1;
                        ctx.fillStyle = 'rgba(255,255,255,1)';
                   
                        //draw sine curve        
                        ctx.beginPath();
                        ctx.moveTo(0, canvas.height/2);
                        x_pos.map(function(x_pos){
                            ctx.lineTo(x_pos, SINE_SCALE*Math.sin(x_pos*2*Math.PI*0.001) + canvas.height/2);
							//ctx.lineTo(x_pos, canvas.height/2 - SINE_SCALE*Math.sin(x_pos*2*Math.PI*0.001 + Math.PI*0.5));
							ctx.lineTo(x_pos, canvas.height/2 - SINE_SCALE*Math.sin(x_pos*2*Math.PI*0.001 + Math.PI*1.3));
                        });
                        ctx.stroke();
			
			/*
						ctx.beginPath();
                        x_pos.map(function(x_pos){
                                ctx.lineTo(x_pos, SINE_SCALE*Math.sin(x_pos*2*Math.PI*0.001 + Math.PI*0.5) + canvas.height/2);
                        });
                        ctx.stroke();
				*/		
                 
			
			var plot_sine = function(x_pos, x_translate){
				ctx.beginPath();
                x_pos.map(function(x_pos){
                	ctx.lineTo(x_pos, SINE_SCALE*Math.sin(x_pos*2*Math.PI*0.001 + Math.PI*0.5 + Math.PI*x_translate) + canvas.height/2);
                });
                ctx.stroke();
			}
			
			plot_sine(x_pos,1.3);
			for (var i = 1.1; i <= Math.PI; i+= 0.02){
				plot_sine(x_pos, i*Math.cos(Math.sin(Math.cos(i))));
				plot_sine(x_pos, Math.cos(Math.sin(Math.cos(i))));
				plot_sine(x_pos, Math.sin(Math.sin(Math.cos(i))));
			}
			//[1.1,1.2,1.3.1.4,1.5].forEach(plot_sine())
			
			//[1.1,1.2,1.3.1.4,1.5].map(function(x_trans){plot_sine(x_pos,x_trans);});
							
                       
      </script>
                
                        
        </body>
</html>
